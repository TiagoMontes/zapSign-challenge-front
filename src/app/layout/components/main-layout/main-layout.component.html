<div class="min-h-screen bg-gray-50">
  <!-- Header -->
  <app-header (sidebarToggle)="toggleSidebar()"></app-header>

  <!-- Layout Container -->
  <div class="flex pt-16">
    <!-- Sidebar -->
    <aside
      class="fixed left-0 top-16 h-[calc(100vh-4rem)] bg-white shadow-sm border-r border-gray-200 transition-all duration-300 z-40"
      [class.w-64]="!isSidebarCollapsed && sidenavMode === 'side'"
      [class.w-16]="isSidebarCollapsed && sidenavMode === 'side'"
      [class.-translate-x-full]="sidenavMode === 'over' && !sidenavOpened"
      [class.translate-x-0]="sidenavMode === 'over' && sidenavOpened"
      role="navigation"
      aria-label="Navegação principal"
      [attr.aria-hidden]="sidenavMode === 'over' && !sidenavOpened"
    >
      <app-sidebar [isCollapsed]="isSidebarCollapsed"></app-sidebar>
    </aside>

    <!-- Mobile Overlay -->
    <div
      *ngIf="sidenavMode === 'over' && sidenavOpened"
      class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden"
      (click)="closeSidebar()"
      role="button"
      tabindex="0"
      aria-label="Fechar barra lateral"
      (keydown.enter)="closeSidebar()"
      (keydown.space)="closeSidebar(); $event.preventDefault()"
    ></div>

    <!-- Main Content Area -->
    <main
      class="flex-1 transition-all duration-300 min-h-[calc(100vh-4rem)]"
      [class.ml-64]="!isSidebarCollapsed && sidenavMode === 'side'"
      [class.ml-16]="isSidebarCollapsed && sidenavMode === 'side'"
      [class.ml-0]="sidenavMode === 'over'"
      role="main"
      aria-label="Conteúdo principal"
    >
      <!-- Content Container -->
      <div class="p-4 sm:p-6 lg:p-8">
        <!-- Breadcrumb Navigation -->
        <nav aria-label="Breadcrumb" class="mb-4 sm:mb-6">
          <app-breadcrumb></app-breadcrumb>
        </nav>

        <!-- Page Content -->
        <div class="max-w-none">
          <router-outlet></router-outlet>
        </div>
      </div>
    </main>
  </div>

  <!-- Toast Notifications Container -->
  <app-toast-container></app-toast-container>

  <!-- Skip Links for Accessibility -->
  <a
    href="#main-content"
    class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded-lg z-50 focus:outline-none focus:ring-2 focus:ring-blue-300"
  >
    Skip to main content
  </a>
</div>
